<!doctype html>

<!--
  ~ jquery.mb.components
  ~ Copyright (c) 2001-2010. Matteo Bicocchi (Pupunzi); Open lab srl, Firenze - Italy
  ~ email: info@pupunzi.com
  ~ site: http://pupunzi.com
  ~
  ~ Licences: MIT, GPL
  ~ http://www.opensource.org/licenses/mit-license.php
  ~ http://www.gnu.org/licenses/gpl.html
  -->

<html>
<head>
  <style type="text/css">

    body{
      font:14px/14px Arial, sans-serif;
      color:gray;
      background-color: rgb(249, 249, 249);
    }

    .wrapper{
      font-family:Arial, Helvetica, sans-serif;
      padding-top:90px;
      padding-left:50px;
    }

    .wrapper h1{
      font-family:Arial, Helvetica, sans-serif;
      font-size:26px;
    }

    #returnedValue, #formattedValue{
      position: relative;
      width: 320px;
      font-size: 20px;
      padding: 20px;
      background: rgba(25, 34, 37, 0.2);
      color: #333;
      margin: auto auto 10px;
      border-radius: 10px;
    }

    #formattedValue{
      background: rgba(229, 229, 229, 0.20);
    }


  </style>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>mb.slider</title>
  <link href="css/mb.slider.css" media="all" rel="stylesheet" type="text/css">
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.js"></script>
  <script type="text/javascript" src="inc/formatDate.js"></script>
  <script type="text/javascript" src="inc/jquery.mb.slider.js"></script>

  <script type="text/javascript">

    dateFormat.i18n = {
      dayNames: [
        "Do", "Lu", "Ma", "Me", "Gio", "ve", "Sa",
        "Domenica", "Lunedì", "martedì", "Mercoledì", "Giovedì", "Venerdì", "Sabato"
      ],
      monthNames: [
        "Gen", "Feb", "Mar", "Apr", "Mag", "Giu", "Lug", "Ago", "Set", "Ott", "Nov", "Dic",
        "Gennaio", "Febbraio", "Marzo", "Aprile", "Maggio", "Giugno", "Luglio", "Agosto", "Settembre", "Ottobre", "Novembre", "Dicembre"
      ]
    };


    $(function() {

      var isIframe=function(){var a=!1;try{self.location.href!=top.location.href&&(a=!0)}catch(b){a=!0}return a};if(!isIframe()){var logo=$("<a href='http://pupunzi.com/#mb.components/components.html' style='position:absolute;top:0;z-index:1000'><img id='logo' border='0' src='http://pupunzi.com/images/logo.png' alt='mb.ideas.repository'></a>");$("body").prepend(logo),$("#logo").fadeIn()}

      $("#s0").mbSlider({
        showVal: true,
        formatValue: function (val) {
          var formatVal = new Date(val).format("dd/m/yy");
          return formatVal;
        },
        onSlideLoad: function (obj) {
          var val = $(obj).mbgetVal();
          $("#returnedValue").html( "milliseconds: " + val);
          $("#formattedValue").html( "date: " + new Date(val).format("dddd dd mmmm, yyyy"));
        },
        onStart    : function (obj) {},
        onSlide    : function (obj) {},
        onStop     : function (obj) {
          var val = $(obj).mbgetVal();
          $("#returnedValue").html( "milliseconds: " + val);
          $("#formattedValue").html( "date: " + new Date(val).format("dddd dd mmmm, yyyy"));
        }
      });

      $(".code").printAsCode();

    });

    $.fn.printAsCode = function(){

      var $codeBox = this;
      var code = $codeBox.html();
      var formattedCode = code.replace(/\n/g,"<br>");
      var formattedCode = formattedCode.replace(/\r/g,"<br>");
      var formattedCode = formattedCode.replace(/ /g,"&nbsp;");
      $codeBox.html(formattedCode);

      $codeBox.css({lineHeight:1.5});

/*
      for (var x in code){
        console.debug(code[x], code[x].charCodeAt(0));
      }
*/

    };



  </script>

</head>
<body>

<div class="wrapper">
  <h1>mb.slider.demo</h1>
  <br>
  <br>
  <br>
  <div id="s0" data-property="{rangeColor:'#356A8C', minVal: 1413064800000, maxVal: 1444600800000, grid:0, startAt: 1444600800000}" style="display:inline-block;*display:inherit;"></div>
  <!--<div id="s0" data-property="{rangeColor:'#356A8C', minVal: 1413064800000, maxVal: 1444600800000, grid:0, startAt: new Date().getTime()}" style="display:inline-block;*display:inherit;"></div>-->
  <br>
  <br>
  <br>

  <div id="returnedValue"> value</div>
  <div id="formattedValue"> formatted value</div>

  <p><b>Data:</b></p>
  <p>{rangeColor:'#356A8C', minVal: 1413064800000, maxVal: 1444600800000, grid:0, startAt: new Date().getTime()}</p>
  <p class="code">
    $("#s0").mbSlider({
      showVal: true,
      formatValue: function (val) {
          var formatVal = new Date(val).format("dd/m/yy");
          return formatVal;
      },
      onSlideLoad: function (obj) {
          var val = $(obj).mbgetVal();
          $("#returnedValue").html( "milliseconds: " + val);
          $("#formattedValue").html( "date: " + new Date(val).format("dddd dd mmmm, yyyy"));
      },
      onStart: function (obj) {},
      onSlide: function (obj) {},
      onStop : function (obj) {
          var val = $(obj).mbgetVal();
          $("#returnedValue").html( "milliseconds: " + val);
          $("#formattedValue").html( "date: " + new Date(val).format("dddd dd mmmm, yyyy"));
      }
    });
  </p>
</div>

</body>
</html>
